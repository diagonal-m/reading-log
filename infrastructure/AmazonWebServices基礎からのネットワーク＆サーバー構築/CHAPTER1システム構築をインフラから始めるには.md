## 1-1 開発者がネットワークやサーバーを構築するメリット
> [!tip] 障害に強くなる
- システムにトラブルがあったときに、どこに問題があるのか、切り分けられるようになる

> [!tip] アプリケーション開発の枠組みだけでなく、どこに問題があるか、切り分けられるようになる
- インフラを知らなければ、アプリケーション開発の枠組みの範囲でしか対応できない
- インフラを知っていれば、ネットワークやサーバーを増強して対策をとるなど、システム全体で対応できるようになる

## 1-2 ネットワークやサーバーを構築する
> [!quote] ネットワーク管理者やサーバー管理者は、概ね次のようにシステム全体を設計する
### ■ サーバーの構成
1. まずどのようなサーバーが必要なのかを考える
	1. Webサイト: Webサーバー
	2. データを保存: データベースサーバー
	3. メールの送受信: メールサーバー

> [!MEMO] 実際には、「Webサーバー」や「データベースサーバー」、「メールサーバー」というものがあるわけではなく、「サーバーに対してWebの機能を提供するソフトウェアをインストールしたもの」がWebサーバーであり、同様に「データベースの機能を提供するソフトウェアをインストールしたもの」がデータベースサーバー、「メールの送受信機能を提供するソフトウェアをインストールしたもの」がメールサーバーである

> [!MEMO] そもそもサーバーというのは、「Linux」や「Windows Server」など、サーバー用のOSをインストールしたコンピュータのことに過ぎない


 **サーバーを構築したいのであれば、次の知識の習得が必要**
1. サーバーOSのインストール方法
	 1. LinuxやWindows ServerなどのサーバーOSのインストール、そして、各種の設定方法

2. 各ソフトウェアのインストールや設定方法
	1. Webサーバーソフトやデータベースソフト、メールサーバーソフトなど、さまざまな機能を提供するソフトウェアのインストールや設定方法
		1. Webサーバーとして機能させたいなら、「Apache HTTP Server」や「nginx」などのソフトウェアをインストールする
		2. データベースサーバーとして機能させたいなら、「MySQL」や「MariaDB」「PostgreSQL」などのソフトウェアをインストールする
		3. メールサーバーとして機能させたいなら「Postfix」などのソフトウェアをインストールする

### ■ ネットワークの構成
> [!MEMO] 構築したサーバーは、ネットワークに接続しないと、通信できない。インターネットと接続可能なネットワークでは、「TCP/IP(Transmission Control Protocol/Internet Protocol)」

> [!MEMO] TCP/IPでは、それぞれのサーバーに「IPアドレス」という「10.0.1.10」のような他の機器と重複しない「ピリオドで区切られた4つの数字」を振る。

> [!MEMO] インターネットに接続する場合には、通常「ルーター」と呼ばれる機器を使うが、各サーバーでは、そのルーターにデータが流れるように構成しておかないとインターネットと通信できない

> [!MEMO] インターネットでは、「`http://www.example.co.jp`」のようなドメイン名でアクセスする。ドメイン名とは、サーバーのIPアドレスに付与する、人間が理解しやすい名前のようなものである。ドメイン名を使うためには、「DNSサーバー」と呼ばれるサーバーの設定も必要

**ネットワークを構築したいのであれば、次の知識の習得が必要**
1. IPアドレスに関する知識
	1. IPアドレスを、どのように定めるのか
	2. ルーターを介したインターネットとのデータの流れをどのように、制御するかのなどの知識

2. DNSサーバーに関する知識
	1. ドメイン名とIPアドレスを結びつけるには、どのようにすればよいのか。どのようなやりとりで、ドメイン名とIPアドレスとは、相互に変換されているのかなどの知識

## 1-3 WordPressでブログシステムを作る
> [!quote] 本書では、具体的に、WordPressでブログシステムを作りながら、「サーバーの構築」「ネットワークの構築」、そして、「問題を解決するツール」を説明していきます。
> 利用するサーバーは「Webサーバー」と「DBサーバー」の2台です。
> ...
> 本書では、何もないところから、サーバーやネットワークを構築していきます。

### ■「公開されたネットワーク」と「隠されたネットワーク」
- 本書で構築するネットワークは、２つに分かれている
	- **パブリックサブネット**
		- インターネットに接続し、「公開」されている。
		- ここにはWebサーバーを配置する
	- **プライベートサブネット**
		- インターネットに直接接続せず、「隠されたネットワーク」とする
		- ここにはDBサーバーを配置する

### ■ 片方向からの接続だけを許すNAT
- とはいえ、DBサーバーが、まったくインターネットにアクセスできないのは困る
	- ソフトウェアをインターネットからダウンロードしてインストールしたりアップデートしたりできなくなる
- そこでNATを導入する
> [!NOTE] NATはNetwork Address Translationの略で、内部だけで通用するアドレスを外部とも通信できるアドレスに変換する技術である
> NATを導入すると、「片方向だけの接続を許す」ことが実現できる。つまり、DBサーバーからはインターネットに接続できるけれども、逆に、インターネットからDBサーバーには接続できないという環境を実現する


